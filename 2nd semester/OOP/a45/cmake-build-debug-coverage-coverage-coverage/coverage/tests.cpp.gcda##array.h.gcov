        -:    0:Source:c:/users/diana/desktop/uni work/2nd sem/oop/a45-913-dumitru-diana/dynamic_vector/array.h
        -:    0:Graph:C:\Users\diana\Desktop\uni work\2nd sem\OOP\a45-913-Dumitru-Diana\cmake-build-debug-coverage-coverage-coverage\CMakeFiles\a45_913_Dumitru_Diana.dir\tests\tests.cpp.gcno
        -:    0:Data:C:\Users\diana\Desktop\uni work\2nd sem\OOP\a45-913-Dumitru-Diana\cmake-build-debug-coverage-coverage-coverage\CMakeFiles\a45_913_Dumitru_Diana.dir\tests\tests.cpp.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:#pragma once
        -:    2:#include <iostream>
        -:    3:#include "../domain/domain.h"
        -:    4:
        -:    5:typedef Tutorial TElem;
        -:    6://class DynamicVector
        -:    7://{
        -:    8://private:
        -:    9://    int size;
        -:   10://    int capacity;
        -:   11://    TElem* elements;
        -:   12://    static const unsigned int DEFAULT_CAPACITY = 10;
        -:   13://
        -:   14://    void resize(double factor = 2);
        -:   15://
        -:   16://public:
        -:   17://    // constructors and destructor
        -:   18://    DynamicVector();
        -:   19://    DynamicVector(unsigned int initialCapacity = 2);
        -:   20://    DynamicVector(const DynamicVector& v);
        -:   21://    ~DynamicVector();
        -:   22://
        -:   23://    // Overloading the [] operator
        -:   24://    TElem &operator[](int pos);
        -:   25://
        -:   26://    // Adds an element to the current DynamicVector.
        -:   27://    void add(TElem e);
        -:   28://
        -:   29://    // Deletes an element from a given position
        -:   30://    void delete_elem(unsigned int pos);
        -:   31://
        -:   32://    // Returns all elements
        -:   33://    TElem* get_all_elems() const;
        -:   34://
        -:   35://    // Returns the size of the dynamic vector
        -:   36://    int getSize() const;
        -:   37://};
        -:   38:
        -:   39:template <class T>
        -:   40:class DynamicVector
        -:   41:{
        -:   42:private:
        -:   43:    T* elements;
        -:   44:    int size;
        -:   45:    int capacity;
        -:   46:    static const unsigned int DEFAULT_CAPACITY = 10;
        -:   47:
        -:   48:    // Resizes the current DynamicVector, multiplying its capacity by a given factor (real number).
        -:   49:    void resize(double factor = 2);
        -:   50:
        -:   51:public:
        -:   52:    // constructors and destructor
        -:   53:    DynamicVector();
        -:   54:    DynamicVector(unsigned int initialCapacity);
        -:   55:    DynamicVector(const DynamicVector& v);
        -:   56:    ~DynamicVector();
        -:   57:
        -:   58:    // Overloading the [] operator
        -:   59:    T &operator[](int pos);
        -:   60:
        -:   61:    // + operator
        -:   62:    DynamicVector<T>& operator+(const T& classObj);
        -:   63:
        -:   64:    // Adds an element to the current DynamicVector.
        -:   65:    void add(T e);
        -:   66:
        -:   67:    // Deletes an element from a given position
        -:   68:    void delete_elem(unsigned int pos);
        -:   69:
        -:   70:    // Returns all elements
        -:   71:    T* get_all_elems() const;
        -:   72:
        -:   73:    // Returns the size of the dynamic vector
        -:   74:    int getSize();
        -:   75:};
        -:   76:
        -:   77:template<class T>
    #####:   78:inline DynamicVector<T>::DynamicVector()
    $$$$$:   78-block  0
        -:   79:{
    #####:   80:    capacity = DEFAULT_CAPACITY;
    #####:   81:    size = 0;
    #####:   82:    elements = new T[DEFAULT_CAPACITY];
    $$$$$:   82-block  0
    $$$$$:   82-block  1
    $$$$$:   82-block  2
    $$$$$:   82-block  3
    %%%%%:   82-block  4
    %%%%%:   82-block  5
    %%%%%:   82-block  6
    %%%%%:   82-block  7
    %%%%%:   82-block  8
        -:   83:
    #####:   84:}
    $$$$$:   84-block  0
    %%%%%:   84-block  1
        -:   85:
        -:   86:template<class T>
        1:   87:DynamicVector<T>::DynamicVector(unsigned int initial_capacity)
        1:   87-block  0
        -:   88:{
        1:   89:    elements = new T[initial_capacity];
        1:   89-block  0
        1:   89-block  1
    $$$$$:   89-block  2
        1:   89-block  3
        1:   90:    size = 0;
        1:   91:    capacity = initial_capacity;
        1:   92:}
        -:   93:
        -:   94:template<class T>
        1:   95:DynamicVector<T>::DynamicVector(const DynamicVector<T> &v)
        1:   95-block  0
    $$$$$:   95-block  1
        -:   96:{
        1:   97:    this->size = v.size;
        1:   98:    this->capacity = v.capacity;
        1:   99:    this->elements = new T[this->capacity];
        1:   99-block  0
        1:   99-block  1
    $$$$$:   99-block  2
        1:   99-block  3
    $$$$$:   99-block  4
    $$$$$:   99-block  5
    $$$$$:   99-block  6
    $$$$$:   99-block  7
    $$$$$:   99-block  8
    $$$$$:   99-block  9
    $$$$$:   99-block 10
    %%%%%:   99-block 11
    %%%%%:   99-block 12
    %%%%%:   99-block 13
    %%%%%:   99-block 14
    %%%%%:   99-block 15
    %%%%%:   99-block 16
    %%%%%:   99-block 17
    %%%%%:   99-block 18
        5:  100:    for (int i = 0; i < this->size; ++i) {
        5:  100-block  0
        4:  100-block  1
    $$$$$:  100-block  2
    $$$$$:  100-block  3
    #####:  101:        this->elements[i] = v.elements[i];
    $$$$$:  101-block  0
        -:  102:    }
    #####:  103:}
    $$$$$:  103-block  0
    %%%%%:  103-block  1
        -:  104:
        -:  105:template<class T>
        2:  106:DynamicVector<T>::~DynamicVector()
        2:  106-block  0
    $$$$$:  106-block  1
        -:  107:{
        2:  108:    delete[] elements;
        2:  108-block  0
        2:  108-block  1
    $$$$$:  108-block  2
    $$$$$:  108-block  3
    $$$$$:  108-block  4
    $$$$$:  108-block  5
    $$$$$:  108-block  6
        2:  109:}
        -:  110:
        -:  111:
        -:  112:template<class T>
        4:  113:T &DynamicVector<T>::operator[](int pos) {
    $$$$$:  113-block  0
        4:  113-block  1
        4:  114:    return this->elements[pos];  //return array element
    $$$$$:  114-block  0
        4:  114-block  1
        -:  115:}
        -:  116:
        -:  117:template<class T>
        5:  118:void DynamicVector<T>::add(T e) {
        5:  118-block  0
        5:  119:    if(this->size == this->capacity)
        5:  119-block  0
        2:  120:        this->resize();
        2:  120-block  0
        -:  121:
        5:  122:    this->elements[this->size] = e;
        5:  123:    this->size++;
        5:  124:}
        -:  125:
        -:  126:template<class T>
        2:  127:void DynamicVector<T>::resize(double factor) {
        2:  127-block  0
        2:  128:    this->capacity *= static_cast<int>(factor);
        -:  129:
        2:  130:    T * aux = new T[this->capacity];
        2:  130-block  0
        2:  130-block  1
    $$$$$:  130-block  2
        2:  130-block  3
        8:  131:    for (int i = 0; i < this->size; ++i) {
        8:  131-block  0
        6:  131-block  1
        6:  132:        aux[i] = this->elements[i];
        -:  133:    }
        2:  134:    delete[] this->elements;
        2:  134-block  0
        2:  134-block  1
        2:  135:    this->elements = aux;
        2:  136:}
        -:  137:
        -:  138:template<class T>
        2:  139:void DynamicVector<T>::delete_elem(unsigned int pos) {
        2:  139-block  0
        2:  140:    if (pos < 0 || pos >= this->size)
        2:  140-block  0
        1:  141:        return;
        1:  141-block  0
        -:  142:
        1:  143:    T* aux = new T[this->capacity];
        1:  143-block  0
        1:  143-block  1
    $$$$$:  143-block  2
        1:  143-block  3
        2:  144:    for (int i = 0; i < pos; ++i) {
        2:  144-block  0
        1:  144-block  1
        1:  145:        aux[i] = this->elements[i];
        -:  146:    }
        -:  147:
        4:  148:    for (int i = pos + 1; i < this->size; ++i) {
        1:  148-block  0
        4:  148-block  1
        3:  148-block  2
        3:  149:        aux[i - 1] = this->elements[i];
        -:  150:    }
        1:  151:    delete[] this->elements;
        1:  151-block  0
        1:  151-block  1
        1:  152:    this->elements = aux;
        1:  153:    this->size--;
        1:  153-block  0
        -:  154:}
        -:  155:
        -:  156:template<class T>
        1:  157:T *DynamicVector<T>::get_all_elems() const {
        1:  157-block  0
        1:  158:    return this->elements;
        1:  158-block  0
        -:  159:}
        -:  160:
        -:  161:template<class T>
        2:  162:int DynamicVector<T>::getSize() {
    $$$$$:  162-block  0
        2:  162-block  1
        2:  163:    return this->size;
    $$$$$:  163-block  0
        2:  163-block  1
        -:  164:}
        -:  165:
        -:  166:template <class T>
        2:  167:DynamicVector<T>& DynamicVector<T>::operator+(const T& classObj) {
        2:  167-block  0
        2:  168:    this->add(classObj);
        2:  168-block  0
        2:  169:    return *this;
        -:  170:}
